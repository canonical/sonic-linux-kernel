From: Pavan Naregundi <pnaregundi@marvell.com>
Date: Mon, 20 Feb 2023 04:11:15 +0000
Subject: update ac5 clocks in dts

Tested-by: Raz Adashi <raza@marvell.com>
Reviewed-by: Raz Adashi <raza@marvell.com>
Signed-off-by: Noam <lnoam@marvell.com>
---
 arch/arm64/boot/dts/marvell/ac5.dtsi | 34 ++++++++++++++++------------
 1 file changed, 20 insertions(+), 14 deletions(-)

diff --git a/arch/arm64/boot/dts/marvell/ac5.dtsi b/arch/arm64/boot/dts/marvell/ac5.dtsi
index db40c9b84..34d6dcd65 100644
--- a/arch/arm64/boot/dts/marvell/ac5.dtsi
+++ b/arch/arm64/boot/dts/marvell/ac5.dtsi
@@ -110,7 +110,7 @@ mdio: mdio@20000 {
 				#size-cells = <0>;
 				compatible = "marvell,orion-mdio";
 				reg = <0x22004 0x4>;
-				clocks = <&core_clock>;
+				clocks = <&cnm_clock>;
 				phy0: ethernet-phy@0 {
 					reg = < 0 0 >;
 				};
@@ -120,7 +120,7 @@ i2c0: i2c@11000{
 				compatible = "marvell,mv78230-i2c";
 				reg = <0x11000 0x20>;
 
-				clocks = <&core_clock>;
+				clocks = <&cnm_clock>;
 				clock-names = "core";
 				interrupts = <GIC_SPI 87 IRQ_TYPE_LEVEL_HIGH>;
 				clock-frequency=<100000>;
@@ -138,7 +138,7 @@ i2c1: i2c@11100{
 				compatible = "marvell,mv78230-i2c";
 				reg = <0x11100 0x20>;
 
-				clocks = <&core_clock>;
+				clocks = <&cnm_clock>;
 				clock-names = "core";
 				interrupts = <GIC_SPI 88 IRQ_TYPE_LEVEL_HIGH>;
 				clock-frequency=<100000>;
@@ -167,7 +167,7 @@ sdhci0: sdhci@805c0000 {
 					reg = <0x0 0x805c0000 0x0 0x300>;
 					reg-names = "ctrl";
 					interrupts = <GIC_SPI 92 IRQ_TYPE_LEVEL_HIGH>;
-					clocks = <&core_clock>;
+					clocks = <&emmc_clock>;
 					clock-names = "core";
 					status = "okay";
 					bus-width = <8>;
@@ -194,7 +194,7 @@ eth0: ethernet@20000 {
 				compatible = "marvell,armada-ac5-neta";
 				reg = <0x0 0x20000 0x0 0x4000>;
 				interrupts = <GIC_SPI 45 IRQ_TYPE_LEVEL_HIGH>;
-				clocks = <&core_clock>;
+				clocks = <&cnm_clock>;
 				status = "disabled";
 				phy-mode = "sgmii";
 			};
@@ -203,7 +203,7 @@ eth1: ethernet@24000 {
 				compatible = "marvell,armada-ac5-neta";
 				reg = <0x0 0x24000 0x0 0x4000>;
 				interrupts = <GIC_SPI 55 IRQ_TYPE_LEVEL_HIGH>;
-				clocks = <&core_clock>;
+				clocks = <&cnm_clock>;
 				status = "disabled";
 				phy-mode = "sgmii";
 				fixed-link {
@@ -271,25 +271,31 @@ pcie0: pcie@800a0000 {
 			num-lanes = <1>;
 			status = "disabled";
 
-			clocks = <&core_clock>;
+			clocks = <&cnm_clock>;
 		};
 
-		core_clock: core_clock@0 {
+		cnm_clock: cnm_clock@0 {
 			compatible = "fixed-clock";
 			#clock-cells = <0>;
-			clock-frequency = <400000000>;
+			clock-frequency = <328000000>;
 		};
 
-		axi_clock: axi_clock@0 {
+		spi_clock: spi_clock@0 {
 			compatible = "fixed-clock";
 			#clock-cells = <0>;
-			clock-frequency = <325000000>;
+			clock-frequency = <200000000>;
 		};
 
-		spi_clock: spi_clock@0 {
+		nand_clock: nand_clock@0 {
 			compatible = "fixed-clock";
 			#clock-cells = <0>;
-			clock-frequency = <200000000>;
+			clock-frequency = <400000000>;
+		};
+
+		emmc_clock: emmc_clock@0 {
+			compatible = "fixed-clock";
+			#clock-cells = <0>;
+			clock-frequency = <400000000>;
 		};
 
 		spi@805a0000 {
@@ -348,7 +354,7 @@ nand0: nand@805b00 {
 			#address-cells = <0x1>;
 			#size-cells = <0x0>;
 			interrupts = <GIC_SPI 89 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&core_clock>;
+			clocks = <&nand_clock>;
 			/*marvell,system-controller = <0x15>*/
 			status = "okay";
 
-- 
2.25.1

